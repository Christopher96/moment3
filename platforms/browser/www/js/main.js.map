{"version":3,"sources":["main.js"],"names":["$","document","ready","addEventListener","onDeviceReady","supports_html5_storage","window","e","supports_json","click","vibrate","alert","takePic","hasInStorage","changeImage","getFromStorage","prop","onBatteryStatus","console","log","device","cordova","navigator","globalization","StatusBar","show","status","html","level","isPlugged","camera","getPicture","imageData","quality","attr","addToStorage","notification","alertCallback","id","data","storage","getStorage","saveStorage","current","localStorage","JSON","parse","removeFromStorage","dir","stringify"],"mappings":"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","file":"main.js","sourcesContent":["\n\n$(document).ready(function(){\n  document.addEventListener(\"deviceready\", onDeviceReady, false);\n});\n\nfunction supports_html5_storage() {\n  try {\n    return 'localStorage' in window && window['localStorage'] !== null;\n  } catch (e) {\n    return false;\n  }\n}\nfunction supports_json() {\n  try {\n    return 'JSON' in window && window['JSON'] !== null;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction onDeviceReady() {\n    $(\"#vibrate\").click(vibrate);\n    $(\"#alert\").click(alert);\n\n    if(supports_html5_storage() && supports_json()){\n      $(\"#pic\").click(takePic);\n      if(hasInStorage(\"mainImg\")){\n        changeImage(getFromStorage(\"mainImg\"));\n      }\n    } else {\n      $(\"#pic\").prop(\"disabled\", true);\n    }\n\n    window.addEventListener(\"batterystatus\", onBatteryStatus, false);\n    console.log(device.cordova);\n    console.log(navigator.globalization);\n    StatusBar.show();\n}\n\nfunction onBatteryStatus(status) {\n    $(\"#battery\").html(\"Level: \" + status.level + \" isPlugged: \" + status.isPlugged);\n}\n\nfunction takePic() {\n    navigator.camera.getPicture(\n    function(imageData) {\n        changeImage(imageData);\n        vibrate(1000);\n        alert();\n    }, function(){\n        console.log(\"fail\");\n    }, {\n        quality: 100\n    });\n}\n\nfunction changeImage(imageData){\n  $(\"#mainImg\").attr(\"src\", \"data:image/jpeg;base64,\" + imageData);\n  addToStorage(\"mainImg\", imageData);\n}\n\nfunction vibrate() {\n    navigator.vibrate(3000);\n}\n\nfunction alert() {\n    navigator.notification.alert(\n        'Your picture has been taken!',  // message\n        alertCallback,         // callback\n        'Alert',            // title\n        'OK!'                  // buttonName\n    );\n}\n//Adding to storage\nfunction addToStorage(id,data){\n    var storage = getStorage();\n    storage[id] = data;\n    saveStorage(storage);\n}\n\n//loading from storage\nfunction getStorage(){\n    var current = localStorage[\"main\"];\n    var storage = {};\n    if(typeof current != \"undefined\") storage=window.JSON.parse(current);\n    return storage;\n}\n\nfunction getFromStorage(id) {\n    var storage = getStorage();\n    return storage[id]\n}\n\n//Checking storage\nfunction hasInStorage(id){\n    return (id in getStorage());\n}\n\n//Adding to storage\nfunction removeFromStorage(id,data){\n    if (hasInStorage(id)) {\n        var storage = getStorage();\n        delete storage[id];\n        console.log('removed '+id);\n        saveStorage(storage);\n    }\n}\n\n//save storage\nfunction saveStorage(storage){\n    console.log(\"To store...\");\n    console.dir(storage);\n    localStorage[\"main\"] = window.JSON.stringify(storage);\n}\n\nfunction alertCallback() {\n    console.log(\"callback\");\n}\n"]}